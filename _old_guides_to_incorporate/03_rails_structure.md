# Elements a Rails app


## File structure

Every Rails app has the same basic structure to it. When you run `rails new blog` to create a new Rails app, it creates a ton of files for you. The most important files & folders are:

  * `app/` - contains most of the "meat" of your Rails app: the controllers, models, views, helpers, mailers, JS/CSS assets, etc.
  * `bin/` - contains scripts for starting the Rails server and related tasks. You can mostly ignore this folder.
  * `config/` - contains files that configure the Rails app, e.g. what routes are available, how to connect to the database, how to run tests, etc.
  * `db/` - defines your database structure and the _migration_ files for how to change it.
  * `log/` - contains the app's logfiles. When you run the Rails server, it will write all output to `log/development.log`.
  * `public/` - contains "static" files that are available on the server. You can mostly ignore this folder.
  * `test/` - contains the _test suite_, which is a bunch of scripts for testing that your app does what you expect it to do. Writing tests is a _super important_ part of being a Rails developer, but we won't focus on tests today.
  * `tmp/` - contains temporary files autogenerated by Rails. You can mostly ignore this folder.
  * `Gemfile` - defines all _gems_ (online Ruby libraries) that your app depends on.


## Components of a Rails app

TODO: High-level overview of the pieces: routes, controllers, views, models, database, MVC architecture, gems, test suite


### Controllers, views, pages

To add a page to your Rails site, you need at least three things:

  * a **route** defined in `config/routes.rb`. The routes file tells Rails what URLs it can handle, and what controller to use for each URL.
  * a **controller** with at least one **action** defined. The controller contains code specifying how Rails should handle this page request.
  * a **view** named the same as that controller action. This is where you write the HTML code that should be shown on the page.

TODO: Link to more info about controllers


### Models, database, ActiveRecord

Some important concepts for how Rails works with data:

  * **Model**: A Model is some resource, some type of thing, that a Rails app can create, store in its database, and display information about. Each Model should be thoughtfully named to describe the concept that it's representing. For example a Rails app for an online store might have models for `Customer`, `Merchandise`, and `Invoice`. Rails uses an amazing library called **ActiveRecord** to give you easy ways to work with your models.
  * **CRUD**: Functionality / pages to read & write a resource is often referred to as **CRUD operations**: **C**reate, **R**ead, **U**pdate, **D**elete. A common pattern is to have one Rails controller containing all of the CRUD actions for a particular resource / model.
  * **REST**: REST is a philosophy for how to organize your app's routes (URLs, paths) into "RESTful resources". Basically, this means grouping all of a resource's CRUD operations together into one controller using a standard pattern. [See here for more about REST.](https://www.sitepoint.com/restful-rails-part-i/)


### HTTP request lifecycle, params


### RESTful architecture, resource routes


### Autoloading (TODO: doesn't belong here)

The Rails development server tries to be smart for you. When you make changes to files in the Rails app (add a controller, change the text in a view, etc.), Rails will autoload those changes so that the next time you refresh the browser page, you'll see your changes show up.

Some major changes can't be autoloaded; you'll need to restart the server for those. Quit the server process (in the Terminal tab where the server is running, press `Ctrl` + `C`) then restart it by running `rails server` again.

